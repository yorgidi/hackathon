<div data-role="view" id="cars" 
    data-title="Cars" 
    data-layout="layout" 
    data-model="carsViewModel">
    <ul data-role="listview" data-style="inset" data-type="group">
        <li data-bind="visible: checkIsEdit()" >
            Your Travel Settings
            <ul>
                <li>
                    <label>
                        Office:
                        <select id="officesDropDown" 
                                data-text-field="name" 
                                data-value-field="officeId"
                                data-bind="value: office, source: offices"
                                data-role="dropdownlist" ></select>
                    </label>
                </li>
                <li>
                    <label>
                        District:
                        <select data-cascade-from="officesDropDown"
                                data-text-field="name" 
                                data-change="carsViewModel.onDistrictChange"
                                data-bind="source: districts"  
                                data-role="dropdownlist"  ></select>
                    </label>
                </li>
                <li>
                    <label>
                        Office arrival time:
                        <select id="arrivalTimes" 
                                data-text-field="name" 
                                data-value-field="id" 
                                data-bind="value: arrivalTime, source: arrivalTimes"  
                                data-role="dropdownlist"  ></select>
                    </label>
                </li>
                <li>
                    <label>
                        I will
                        <ul data-role="buttongroup" 
                            data-index="0"
                            data-bind="events: { select: onRideSelected }">
                            <li>drive</li>
                            <li>ride</li>
                            <li>both</li>
                        </ul>
                    </label>
                </li>
                <li>
                    <i></i>
                    <a data-role="button"
                       data-bind="events: { click: onSubmit }"
                       style="display: block; margin: 0 2em 0 2em; text-align: center;">Submit</a>
                </li>
            </ul>

        </li>

        <li data-bind="visible:checkIsNotEdit()" >
            Your Travel Settings
            <ul>
                <li>
                    <div>
                        You are travelling from <b><span data-bind="text:neighborhood.name"></span></b><br/>
                        To the <b><span data-bind="text:office.name"></span></b> office<br/>
                        You arrive at <b><span data-bind="text:arrivalTime.name"></span></b><br/>
                        and you will <b><span data-bind="text:getRideType()"></span></b><br/>
                    </div>
                </li>
                <li>
                    <i></i>
                    <a data-role="button"
                       data-bind="events: { click: onEdit }"
                       style="display: block; margin: 0 2em 0 2em; text-align: center;">Edit</a>
                </li>
            </ul>

        </li>

        <li data-bind="visible:checkIsNotEdit()">
            Pick Your Travel Buddy
            <ul id="matches-listview"  
                data-role="listview" 
                data-template="mobile-listview-travel-matches"
                data-bind="source: travelMatches"></ul>

        </li>
    </ul>
</div>

<script type="text/x-kendo-tmpl" id="mobile-listview-travel-matches">
    ${user.name} (<span>${user.team})</span><br>
    <img src="http://demos.kendoui.com/content/mobile/overview/carine.jpg" />
    <div >
        Traveling from <b><span>${travelInfo.neighborhood.name}</span></b><br>
        Arrives at <b><span>${travelInfo.arrivalTime.name}</span></b><br>
        Wants to <b><span>${getRideTypeDescription(travelInfo.rideType)}</span></b><br>
        <span> phone:
            <a href="tel:${user.phone}">${user.phone}</a> </span>
    </div>
</script>

<style scoped>
    img
    {
        float: left;
    }
    #matches-listview div
    {
        float: left;
        margin-left: 10px;
        font-size: 15px;
        height: 80px;
        position: relative;
    }
    #matches-listview li
    {
        height: 130px;
    }
</style>